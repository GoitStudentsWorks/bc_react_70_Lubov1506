{"version":3,"file":"StatisticsTab-9H8stzw8.js","sources":["../../src/components/StatisticDatePicker/datePickerStyles.js","../../src/components/StatisticDatePicker/StatisticDatePicker.jsx","../../src/components/StatisticsItem/StatisticsItem.jsx","../../src/components/StatisticsTable/StatisticsTable.jsx","../../src/pages/StatisticsTab/StatisticsTab.jsx"],"sourcesContent":["export const datePickerStyles = {\n  control: (baseStyles, state) => ({\n    ...baseStyles,\n    borderColor: state.isFocused ? 'grey' : ' rgba(74, 86, 226, 0.10)',\n    backgroundColor: 'transparent',\n    color: 'white',\n    borderCollapse: 'separate',\n    width: '100%',\n  }),\n  dropdownIndicator: baseStyles => ({\n    ...baseStyles,\n    color: 'white',\n  }),\n  menu: baseStyles => ({\n    ...baseStyles,\n    background:\n      'linear-gradient(180deg, #855daf99 13%, #6A46A5 53%, #50309A 70%, #6A46A5 100%)',\n    borderCollapse: 'separate',\n    borderRadius: '8px',\n    boxShadow: '0px 4px 60px 0px rgba(0, 0, 0, 0.25)',\n    backdropFilter: 'blur(50px)',\n    scrollBehavior: 'smooth',\n    scrollbarWidth: 'thin',\n    scrollbarColor: '#6A46A5 #855daf99',\n  }),\n  option: (baseStyles, state) => ({\n    ...baseStyles,\n    backgroundColor: state.isFocused ? '#ffffff1a' : 'transparent',\n    color: state.isDisabled\n      ? ' rgba(255, 255, 255, 0.6)'\n      : state.isSelected\n      ? '#FF868D'\n      : 'white',\n    cursor: state.isDisabled ? 'not-allowed' : 'pointer',\n  }),\n  singleValue: baseStyles => ({\n    ...baseStyles,\n    color: 'white',\n  }),\n\n  indicatorSeparator: baseStyles => ({\n    ...baseStyles,\n    display: 'none',\n  }),\n  valueContainer: baseStyles => ({\n    ...baseStyles,\n    padding: '12px 0px 12px 20px',\n  }),\n\n  cursor: 'pointer',\n};\n","import 'react-datepicker/dist/react-datepicker.css';\nimport { useEffect, useState } from 'react';\nimport s from './StatisticDatePicker.module.css';\nimport { getYear } from 'date-fns';\nimport Select from 'react-select';\nimport { useDispatch } from 'react-redux';\nimport { fetchPeriodTrnThunk } from '../../redux/transactions/operations';\nimport { datePickerStyles } from './datePickerStyles';\n\nconst StatisticDatePicker = () => {\n  const currentMonth = new Date().getMonth() + 1;\n  const currentYear = getYear(new Date());\n  const [selectedYear, setSelectedYear] = useState(currentYear);\n  const [selectedMonth, setSelectedMonth] = useState(null);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchPeriodTrnThunk({ year: selectedYear, month: selectedMonth }));\n  }, [selectedMonth, selectedYear, dispatch]);\n  const years = Array.from(\n    { length: getYear(new Date()) - 2020 + 1 },\n    (_, i) => 2020 + i\n  );\n  const yearOptions = years.map(year => ({ value: year, label: year }));\n  const monthsOptions = Array.from({ length: 12 }, (e, i) => {\n    const month = new Date(0, i).toLocaleString('en', { month: 'long' });\n    return {\n      value: i + 1,\n      label: month,\n      isDisabled: i + 1 > currentMonth && selectedYear === currentYear,\n    };\n  });\n  monthsOptions.unshift({ value: null, label: 'All months' });\n\n  return (\n    <div className={s.monthYearPick_wrapper}>\n      <Select\n        defaultValue={{ value: null, label: 'All months' }}\n        styles={datePickerStyles}\n        className={s.monthYearPick}\n        onChange={option => setSelectedMonth(option.value)}\n        options={monthsOptions}\n        placeholder=\"Select month\"\n      />\n      <Select\n        defaultValue={{ value: currentYear, label: currentYear }}\n        styles={datePickerStyles}\n        className={s.monthYearPick}\n        onChange={selectedOption => setSelectedYear(selectedOption.value)}\n        openMenuOnClick={true}\n        placeholder=\"Select year\"\n        options={yearOptions}\n      />\n    </div>\n  );\n};\nexport default StatisticDatePicker;\n","import s from './StatisticsItem.module.css';\nimport { motion } from 'framer-motion';\nconst StatisticsItem = ({ item, index }) => {\n  return (\n    <motion.tr\n      className={s.row}\n      transition={{ delay: 0.2 * index }}\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: 20 }}\n      key={Date.now()}\n    >\n      <td className={s.name}>\n        <span\n          className={s.color}\n          style={{\n            backgroundColor: item.color,\n          }}\n        ></span>\n        {item.name}\n      </td>\n      <td className={s.total}>{item.total}</td>\n    </motion.tr>\n  );\n};\nexport default StatisticsItem;\n","import { useSelector } from 'react-redux';\nimport StatisticsItem from '../StatisticsItem/StatisticsItem';\nimport s from './StatisticsTable.module.css';\nimport { selectPeriodTransactions } from '../../redux/transactions/selectors';\nimport { prettyMoneyFormat } from 'helpers';\nimport { getTrasactionCategoryColor } from '../../constants/TransactionConstants';\n\nconst StatisticsTable = () => {\n  const transactions = useSelector(selectPeriodTransactions);\n  const { expenseSummary, incomeSummary, categoriesSummary } = transactions;\n  const data =\n    categoriesSummary && categoriesSummary.length > 0\n      ? categoriesSummary\n          .map(item => {\n            return {\n              ...item,\n              total: prettyMoneyFormat(item.total),\n              color: getTrasactionCategoryColor(item.name),\n            };\n          })\n          .filter(item => item.type === 'EXPENSE')\n      : null;\n\n  const incomeData =\n    incomeSummary && incomeSummary >= 0 ? prettyMoneyFormat(incomeSummary) : 0;\n  const expenseData = expenseSummary ? prettyMoneyFormat(expenseSummary) : 0;\n\n  if (data) {\n    return (\n      <div className={s.all}>\n        <table className={s.table}>\n          <thead className={s.heading}>\n            <tr>\n              <th className={s.category}>Category</th>\n              <th className={s.sum}>Sum</th>\n            </tr>\n          </thead>\n        </table>\n        <div className={s.divTable}>\n          <table className={s.table}>\n            <tbody className={s.scroll}>\n              {data.map((item, idx) => (\n                <StatisticsItem\n                  key={idx}\n                  item={item}\n                  index={data.indexOf(item) + 1}\n                />\n              ))}\n            </tbody>\n            <tfoot className={s.tableFooter}>\n              <tr className={s.expences}>\n                <th className={s.stat_text}>Expences:</th>\n                <th>{expenseData}</th>\n              </tr>\n\n              <tr className={s.income}>\n                <th className={s.stat_text}>Income:</th>\n                <th>{incomeData}</th>\n              </tr>\n            </tfoot>\n          </table>\n        </div>\n      </div>\n    );\n  }\n  return null;\n};\nexport default StatisticsTable;\n","import {\n  DoughnutChart,\n  StatisticDatePicker,\n  StatisticsTable,\n} from 'components';\nimport { useMedia } from 'hooks';\n\nimport s from './StatisticsTab.module.css';\n\nconst StatisticsTab = () => {\n  const { isTablet, isDesktop } = useMedia();\n  return (\n    <>\n      {!isDesktop && !isTablet && (\n        <>\n          <div className={s.general_wrap}>\n            <p className={s.text}>Statistics</p>\n            <div className={s.donut_wrap}>\n              <DoughnutChart />\n            </div>\n            <div className={s.stat_wrap}>\n              <StatisticDatePicker />\n              <StatisticsTable />\n            </div>\n          </div>\n        </>\n      )}\n      {isTablet && (\n        <div className={s.general_wrap}>\n          <div className={s.donut_wrap}>\n            <p className={s.text}>Statistics</p>\n            <DoughnutChart />\n          </div>\n          <div className={s.stat_wrap}>\n            <StatisticDatePicker />\n            <StatisticsTable />\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default StatisticsTab;\n"],"names":["datePickerStyles","baseStyles","state","StatisticDatePicker","currentMonth","currentYear","getYear","selectedYear","setSelectedYear","useState","selectedMonth","setSelectedMonth","dispatch","useDispatch","useEffect","fetchPeriodTrnThunk","yearOptions","_","i","year","monthsOptions","e","month","jsxs","s","jsx","Select","option","selectedOption","StatisticsItem","item","index","motion","StatisticsTable","transactions","useSelector","selectPeriodTransactions","expenseSummary","incomeSummary","categoriesSummary","data","prettyMoneyFormat","getTrasactionCategoryColor","incomeData","expenseData","idx","StatisticsTab","isTablet","isDesktop","useMedia","Fragment","DoughnutChart"],"mappings":"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"}