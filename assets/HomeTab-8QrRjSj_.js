import{u as v,j as t,I as M,G as I,a as x,s as $,m as N,g as E,c as h,F as D,r as T,b as C,B as j,d as P,t as B,e as k,f as z,h as L,i as O}from"./index-BHzk3mnK.js";import{p as g}from"./prettyMoneyFormat-gwmHLKoD.js";const X="_btn_t2214_1",A="_icon_t2214_22",w={btn:X,icon:A},G=()=>{const{openAddModal:e}=v();return t.jsx("button",{onClick:()=>e(),type:"button",className:w.btn,children:t.jsx(M,{className:w.icon})})},H="_t_row_1g52g_1",Z="_value_1g52g_8",R="_type_1g52g_25",q="_value_end_1g52g_29",J="_value_type_1g52g_35",K="_value_strong_1g52g_40",Q="_minus_1g52g_46",U="_plus_1g52g_50",V="_btn_delete_1g52g_55",W="_btn_edit_1g52g_73",l={t_row:H,value:Z,type:R,value_end:q,value_type:J,value_strong:K,minus:Q,plus:U,btn_delete:V,btn_edit:W};function S(e){return I({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.263 2.177a1.75 1.75 0 0 1 2.474 0l2.586 2.586a1.75 1.75 0 0 1 0 2.474L19.53 10.03l-.012.013L8.69 20.378a1.753 1.753 0 0 1-.699.409l-5.523 1.68a.748.748 0 0 1-.747-.188.748.748 0 0 1-.188-.747l1.673-5.5a1.75 1.75 0 0 1 .466-.756L14.476 4.963ZM4.708 16.361a.26.26 0 0 0-.067.108l-1.264 4.154 4.177-1.271a.253.253 0 0 0 .1-.059l10.273-9.806-2.94-2.939-10.279 9.813ZM19 8.44l2.263-2.262a.25.25 0 0 0 0-.354l-2.586-2.586a.25.25 0 0 0-.354 0L16.061 5.5Z"},child:[]}]})(e)}const F=e=>{const s=e.split("-").reverse();return s[2]=s[2].slice(2,4),s.join(".")},Y=({deletedIds:e,item:s,handleDelete:i,index:d})=>{const{openEditModal:o}=v(),a=x($);return t.jsx(t.Fragment,{children:t.jsxs(N.tr,{className:l.t_row,transition:{delay:.2*d},initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},children:[t.jsx("td",{className:l.value,children:F(s.transactionDate)}),t.jsx("td",{className:`${l.value} ${l.value_type}`,children:s.type==="EXPENSE"?"-":"+"}),t.jsx("td",{className:l.value,children:E(s.categoryId,a)}),t.jsx("td",{className:l.value,children:s.comment}),t.jsx("td",{className:h(l.value_strong,s.type==="EXPENSE"?l.minus:l.plus),children:g(s.amount)}),t.jsxs("td",{className:`${l.value} ${l.value_end}`,children:[t.jsx("button",{onClick:()=>{o(s)},className:l.btn_edit,children:t.jsx(S,{})}),t.jsx(D,{type:"button",text:"Delete",variant:"btn_delete",isDisabled:e.some(_=>_===s.id),handlerFunction:()=>i(s.id,s.amount,s.comment)})]})]},s.id)})},tt="_table_4p610_1",et="_table_minus_4p610_7",st="_table_plus_4p610_10",nt="_t_row_4p610_13",at="_title_4p610_23",lt="_value_4p610_29",ct="_value_strong_4p610_39",ot="_minus_4p610_45",it="_plus_4p610_48",_t="_btn_edit_4p610_51",rt="_btn_delete_4p610_64",n={table:tt,table_minus:et,table_plus:st,t_row:nt,title:at,value:lt,value_strong:ct,minus:ot,plus:it,btn_edit:_t,btn_delete:rt},dt=({item:e={},handleDelete:s,index:i})=>{const d=x($),{openEditModal:o}=v();return t.jsx(N.li,{className:n.li,transition:{delay:.3*i},initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},children:t.jsx("table",{className:h(n.table,e.type==="EXPENSE"?n.table_minus:n.table_plus),children:t.jsxs("tbody",{className:n.tbody,children:[t.jsxs("tr",{className:n.t_row,children:[t.jsx("td",{className:n.title,children:"Date"}),t.jsx("td",{className:n.value,children:F(e.transactionDate)})]}),t.jsxs("tr",{className:n.t_row,children:[t.jsx("td",{className:n.title,children:"Type"}),t.jsx("td",{className:n.value,children:e.type==="EXPENSE"?"-":"+"})]}),t.jsxs("tr",{className:n.t_row,children:[t.jsx("td",{className:n.title,children:"Category"}),t.jsx("td",{className:n.value,children:E(e.categoryId,d)})]}),t.jsxs("tr",{className:n.t_row,children:[t.jsx("td",{className:n.title,children:"Comment"}),t.jsx("td",{className:n.value,children:e.comment})]}),t.jsxs("tr",{className:n.t_row,children:[t.jsx("td",{className:n.title,children:"Sum"}),t.jsx("td",{className:h(n.value_strong,e.type==="EXPENSE"?n.minus:n.plus),children:g(e.amount)})]}),t.jsxs("tr",{className:n.t_row,children:[t.jsx("td",{className:n.title,children:t.jsx(D,{type:"button",text:"Delete",variant:"btn_delete",handlerFunction:()=>s(e.id,e.amount,e.comment)})}),t.jsx("td",{className:n.value,children:t.jsxs("button",{onClick:()=>{o(e)},className:n.btn_edit,children:[t.jsx(S,{})," Edit"]})})]})]})})},e.id)},ut="_table_1vzj0_1",mt="_title_1vzj0_10",ht="_thead_1vzj0_19",xt="_list_1vzj0_28",pt="_sum_1vzj0_34",c={table:ut,title:mt,thead:ht,list:xt,sum:pt},jt="_undelete_toast_1cv9v_1",bt="_info_1cv9v_15",vt="_comment_1cv9v_21",Nt="_sum_1cv9v_23",gt="_btns_1cv9v_26",yt="_delete_btn_1cv9v_30",wt="_undelete_btn_1cv9v_37",r={undelete_toast:jt,info:bt,comment:vt,sum:Nt,btns:gt,delete_btn:yt,undelete_btn:wt},ft=()=>{const[e,s]=T.useState([]),i=C();return{showDeleteToast:(o,a,_)=>{let m=!1;s(u=>[...u,o]);const y=j(t.jsxs("div",{className:r.undelete_toast,children:[t.jsx("h3",{children:"Delete?"}),t.jsxs("div",{className:r.info,children:[t.jsxs("p",{className:r.comment,children:[_," :"]}),t.jsx("p",{className:r.sum,children:g(a)})]}),t.jsxs("div",{className:r.btns,children:[t.jsx("button",{className:r.delete_btn,onClick:()=>{j.dismiss(y)},children:"Delete"}),t.jsx("button",{className:r.undelete_btn,onClick:()=>{m=!0,s(u=>u.filter(p=>p!==o)),j.dismiss(y,B)},children:"Cancel"})]})]}),{onClose:()=>{m||(s(u=>u.filter(p=>p!==o)),i(P(o)))},autoClose:3e3,closeOnClick:!1,closeButton:!1,hideProgressBar:!1,pauseOnHover:!0,draggable:!0})},deletedIds:e}},$t=()=>{const e=x(k).toSorted((a,_)=>new Date(_.transactionDate)-new Date(a.transactionDate)),{isTablet:s}=z(),{showDeleteToast:i,deletedIds:d}=ft(),o=(a,_,m)=>{i(a,_,m)};return t.jsx(t.Fragment,{children:s?t.jsxs("table",{className:c.table,children:[t.jsx("thead",{className:c.thead,children:t.jsxs("tr",{className:c.t_row,children:[t.jsx("th",{className:c.title,children:"Date"}),t.jsx("th",{className:c.title,children:"Type"}),t.jsx("th",{className:c.title,children:"Category"}),t.jsx("th",{className:c.title,children:"Comment"}),t.jsx("th",{className:h(c.title,c.sum),children:"Sum"}),t.jsx("th",{className:c.title})]})}),t.jsx("tbody",{className:c.tbody,children:e.map(a=>t.jsx(Y,{item:a,deletedIds:d,handleDelete:o,index:e.indexOf(a)+1},a.id))})]}):t.jsx("ul",{className:c.list,children:e.map(a=>t.jsx(dt,{item:a,handleDelete:o,index:e.indexOf(a)+1},a.id))})})},Et="_div_1kkog_1",Dt="_scroll_1kkog_19",f={div:Et,scroll:Dt},Tt="_wrapper_1i7fg_1",Ct="_content_1i7fg_11",kt="_title_1i7fg_19",b={wrapper:Tt,content:Ct,title:kt},St=()=>t.jsxs("div",{className:b.wrapper,children:[t.jsx("img",{src:"/transaction.webp",alt:"page-not-found",width:"240"}),t.jsx("div",{className:b.content,children:t.jsx("h4",{className:b.title,children:"Transaction history is now empty"})})]}),It=()=>{const e=C();T.useEffect(()=>{e(L()),e(O())},[e]);const s=x(k).length;return t.jsxs(t.Fragment,{children:[s?t.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},className:`${f.div} ${f.scroll}`,children:t.jsx($t,{})}):t.jsx(St,{}),t.jsx(G,{})]})};export{It as default};
//# sourceMappingURL=HomeTab-8QrRjSj_.js.map
